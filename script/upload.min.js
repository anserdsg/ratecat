async function ufs(o,e){const t=localStorage.getItem(o);if(null===t)return void console.error(`Error: Key "${o}" not found in localStorage.`);console.log(`Read ${t.length} characters from localStorage["${o}"].`);const r=[];for(let o=0;o<t.length;o+=4096)r.push(t.substring(o,o+4096));console.log(`Split content into ${r.length} chunks.`);const n=async o=>{const e=new URL("https://5at4ocenoa.execute-api.ap-southeast-1.amazonaws.com/default/repo");Object.keys(o).forEach(t=>e.searchParams.append(t,o[t]));const t=await fetch(e.toString(),{method:"GET"});if(!t.ok)throw new Error(`HTTP Error ${t.status}: ${t.statusText}`);return await t.json()};console.log(`Deleting existing data for blob "${e}"...`);try{const o=await n({a:"d",n:e});if(o.err){if("File not found"!==o.err)throw new Error(`Delete failed: ${o.err}`);console.log("No existing data to delete (File not found). Proceeding...")}else console.log("Delete successful.")}catch(o){return void console.error("Error during delete step:",o)}console.log("Starting upload of chunks...");for(let o=0;o<r.length;o++){const t=r[o];try{const l=await n({a:"a",n:e,d:t,i:o});if(l.err)throw new Error(`Server returned error for chunk ${o}: ${l.err}`);console.log(`Uploaded chunk ${o+1}/${r.length}`)}catch(e){return void console.error(`Failed to upload chunk ${o}. Aborting.`,e)}}console.log("Upload completed successfully!")}